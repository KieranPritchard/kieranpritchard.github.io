<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg==" crossorigin="anonymous" referrerpolicy="no-referrer"/>
    <link rel="stylesheet" href="{{ '/style.css' | relative_url }}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="icon" type="image/x-icon" href="{{ '/res/favicon/Website Favicon.png' | relative_url }}">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Read Kieran Pritchard's latest blog posts on programming, cybersecurity, career insights, and personal thoughts. Explore categories, search articles, and stay updated with recent posts.">
    <title>{{ page.title }} - {{ site.title }}</title>
    
    <!-- Inline CSS fallback for footer overlap fix -->
    <style>
        /* Blog page specific layout fixes */
        .background-odd:has(#blog-sidebar),
        .background-odd:has(#blog-list) {
            height: auto !important;
            min-height: auto !important;
        }
        
        /* Blog page specific layout fixes */
        .background-odd.background-auto {
            min-height: auto !important;
            padding-bottom: 2rem !important;
        }
        
        /* Ensure proper spacing between blog content and footer */
        .background-odd.background-auto + footer {
            margin-top: 2rem !important;
        }
        
        /* Alternative approach: target blog page elements directly */
        #blog-sidebar + .col-sm-8,
        #blog-sidebar ~ .col-sm-8 {
            margin-bottom: 2rem;
        }
        
        /* Target blog page structure using more specific selectors */
        .background-odd:has(#blog-sidebar) {
            min-height: auto !important;
            height: auto !important;
            padding-bottom: 3rem !important;
        }
        
        /* Fallback for browsers without :has() support */
        .background-odd #blog-sidebar {
            margin-bottom: 2rem;
        }
        
        .background-odd #blog-list {
            margin-bottom: 2rem;
        }
        
        /* Ensure footer spacing on blog pages */
        .background-odd + footer {
            margin-top: 2rem !important;
        }
        
        /* Additional footer positioning fixes */
        footer {
            position: relative !important;
            clear: both !important;
            width: 100% !important;
            z-index: 1 !important;
        }
        
        /* Blog page footer specific spacing */
        .background-odd:has(#blog-sidebar) + footer,
        .background-odd #blog-sidebar ~ footer {
            margin-top: 3rem !important;
        }
        
        /* Mobile responsive fixes */
        @media screen and (max-width: 576px) {
            .background-odd.background-auto {
                padding-bottom: 3rem !important;
                margin-bottom: 1rem !important;
            }
            
            footer {
                margin-top: 2rem !important;
                position: relative !important;
            }
            
            .blog-post {
                padding: 4% 0;
                margin-bottom: 1rem;
            }
            
            #blog-list {
                margin-bottom: 2rem;
            }
            
            .col-sm-4, .col-sm-8 {
                width: 100% !important;
                margin-bottom: 2rem;
            }
            
            .container {
                padding-bottom: 2rem;
            }
            
            .row {
                margin-bottom: 1rem;
            }
        }
    </style>
</head>
<body id="themeLoaded" class="blog-index-page">
    <nav class="navbar navbar-expand-lg">
        <div class="container-fluid">
            <!-- Brand -->
            <a href="{{ '/' | relative_url }}" class="navbar-brand">Kieran Pritchard</a>

            <!-- Toggler button (hamburger) -->
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent">
                <span class="navbar-toggler-icon"></span>
            </button>

            <!-- Collapsible navbar content -->
            <div class="collapse navbar-collapse justify-content-center" id="navbarSupportedContent">
                <ul class="navbar-nav flex-lg-row gap-lg-4 text-center mx-auto">
                    <li class="nav-item">
                        <a href="{{ '/' | relative_url }}" class="nav-link {% if page.url contains '/index' or page.url == '/' %}active{% endif %}" id="{% if page.url contains '/index' or page.url == '/' %}Active-Page{% endif %}">Home</a>
                    </li>
                    <li class="nav-item">
                        <a href="{{ '/About.html' | relative_url }}" class="nav-link {% if page.url contains 'About' %}active{% endif %}" id="{% if page.url contains 'About' %}Active-Page{% endif %}">About</a>
                    </li>
                    <li class="nav-item">
                        <a href="{{ '/blog/' | relative_url }}" class="nav-link {% if page.url contains 'blog' %}active{% endif %}" id="{% if page.url contains 'blog' %}Active-Page{% endif %}">Blog</a>
                    </li>
                    <li class="nav-item">
                        <a href="{{ '/Projects.html' | relative_url }}" class="nav-link {% if page.url contains 'Projects' %}active{% endif %}" id="{% if page.url contains 'Projects' %}Active-Page{% endif %}">Projects</a>
                    </li>
                    <li class="nav-item">
                        <a href="{{ '/Hobbies.html' | relative_url }}" class="nav-link {% if page.url contains 'Hobbies' %}active{% endif %}" id="{% if page.url contains 'Hobbies' %}Active-Page{% endif %}">Hobbies</a>
                    </li>
                    <li class="nav-item">
                        <a href="{{ '/Contact.html' | relative_url }}" class="nav-link {% if page.url contains 'Contact' %}active{% endif %}" id="{% if page.url contains 'Contact' %}Active-Page{% endif %}">Contact</a>
                    </li>

                    <!-- Theme toggle shown only in collapsed menu -->
                    <li class="nav-item d-lg-none mt-2">
                        <button class="main-button w-100" onclick="themeSwitcher()">
                            <i id="themeToggle" class="fa-solid fa-moon"></i> Toggle Theme
                        </button>
                    </li>
                </ul>
            </div>

            <!-- Theme toggle shown only on large screens (outside collapse) -->
            <div class="d-none d-lg-flex align-items-center ms-auto">
                <button class="navbar-button" onclick="themeSwitcher()">
                    <i id="themeToggle" class="fa-solid fa-moon"></i>
                </button>
            </div>
        </div>
    </nav>

    <div class="background-odd background-auto">
        <div class="container">
            <div class="row">
                <!-- Blog Sidebar -->
                <div class="col-sm-4">
                    <div id="blog-sidebar" class="background-even">
                        <div class="searchbar-container">
                            <input type="text" name="" id="blog-searchbar" placeholder="Search" onkeyup="blogSearch()">
                        </div>
                        <div>
                            <h4 class="sidebar-title">Categories</h4>
                            <input class="sidebar-checkbox" type="checkbox" onclick="blogFilter('topicOne')" id="blog-topic-1">
                            <label class="sidebar-labels" for="blog-topic-1">Career</label><br>
                            <input class="sidebar-checkbox" type="checkbox" onclick="blogFilter('topicTwo')" id="blog-topic-2">
                            <label class="sidebar-labels" for="blog-topic-2">Programming</label><br>
                            <input class="sidebar-checkbox" type="checkbox" onclick="blogFilter('topicThree')" id="blog-topic-3">
                            <label class="sidebar-labels" for="blog-topic-3">Thoughts & Opinions</label><br>
                        </div>
                        <div>
                            <h4 class="sidebar-title">Recent Blogs</h4>
                            {% for post in site.posts limit:3 %}
                            <div class="row sidebar-blog-post-padding">
                                <div class="col-3 w-25 d-none d-md-block">
                                    <img class="sidebar-recent-blog-image recent-blog-image-{{ forloop.index }} d-none d-md-block" src="{{ post.thumbnail | relative_url }}" alt="{{ post.thumbnail_alt }}">
                                </div>
                                <div class="col-9 align-content-center">
                                    <a class="sidebar-recent-blog-title blog-post-title-{{ forloop.index }}" href="{{ post.url | relative_url }}">{{ post.title }}</a>
                                </div>
                            </div>
                            {% endfor %}
                        </div>
                    </div>
                </div>

                <!-- Blog posts list -->
                <div class="col-sm-8">
                    <ul id="blog-list">
                        {% for post in site.posts %}
                        <li class="{{ post.topic_class }}">
                            <div class="blog-post row">
                                <div class="col-sm-3 d-none d-md-block">
                                    <img class="blog-post-image" src="{{ post.thumbnail | relative_url }}" alt="{{ post.thumbnail_alt }}">
                                </div>
                                <div class="col-sm-9">
                                    <h3 class="blog-post-title">
                                        <a class="blog-post-title-line" href="{{ post.url | relative_url }}">{{ post.title }}</a>
                                    </h3>
                                    <p class="blog-post-date">Date Published: {{ post.date | date: "%d/%m/%Y" }}</p>
                                    <p class="blog-post-description">{{ post.description }}</p>
                                </div>
                            </div>
                        </li>
                        {% endfor %}
                    </ul>
                </div>
            </div>
        </div>
    </div>

    {% include footer.html %}

    <script src="{{ '/main.js' | relative_url }}"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html>
