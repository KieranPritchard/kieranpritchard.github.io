<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg==" crossorigin="anonymous"/>
    <link rel="stylesheet" href="{{ '/style.css' | relative_url }}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="icon" type="image/x-icon" href="{{ '/res/favicon/Website Favicon.png' | relative_url }}">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ page.title }} - {{ site.title }}</title>

    <style>
        /* Clean, minimal responsive fixes */

        /* Keep checkbox and text aligned horizontally */
        #blog-sidebar label {
            display: flex;
            align-items: center;
            gap: 0.4rem; /* space between checkbox & text */
        }

        .sidebar-checkbox {
            margin: 0; /* remove default browser spacing */
        }

        /* Sidebar soft responsive width */
        @media (max-width: 992px) {
            #blog-sidebar {
                margin-bottom: 1.5rem;
            }
        }

        /* Mobile spacing */
        @media (max-width: 576px) {
            .blog-post {
                padding: 1rem 0;
            }
            .background-odd {
                padding-bottom: 1rem !important;
            }
        }

        /* Prevent footer overlap */
        footer {
            position: relative !important;
            margin-top: 2rem !important;
        }

        /* Better image handling */
        .blog-post img,
        .sidebar-recent-blog-image {
            max-width: 100%;
            height: auto;
            object-fit: cover;
        }

        /* Create cleaner spacing inside the sidebar */
        #blog-sidebar {
            padding: 1.25rem;
        }

        /* Improve sidebar spacing */
        .sidebar-blog-post-padding {
            margin-bottom: .75rem;
        }
    </style>
</head>

<body id="themeLoaded" class="blog-index-page">

    <nav class="navbar navbar-expand-lg">
        <div class="container-fluid">
            <a href="{{ '/' | relative_url }}" class="navbar-brand">Kieran Pritchard</a>

            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse justify-content-center" id="navbarSupportedContent">
                <ul class="navbar-nav flex-lg-row gap-lg-4 text-center mx-auto">
                    <li class="nav-item"><a href="{{ '/' | relative_url }}" class="nav-link {% if page.url == '/' or page.url contains '/index' %}active{% endif %}">Home</a></li>
                    <li class="nav-item"><a href="{{ '/About.html' | relative_url }}" class="nav-link {% if page.url contains 'About' %}active{% endif %}">About</a></li>
                    <li class="nav-item"><a href="{{ '/blog/' | relative_url }}" class="nav-link {% if page.url contains 'blog' %}active{% endif %}">Blog</a></li>
                    <li class="nav-item"><a href="{{ '/Projects.html' | relative_url }}" class="nav-link {% if page.url contains 'Projects' %}active{% endif %}">Projects</a></li>
                    <li class="nav-item"><a href="{{ '/Hobbies.html' | relative_url }}" class="nav-link {% if page.url contains 'Hobbies' %}active{% endif %}">Hobbies</a></li>
                    <li class="nav-item"><a href="{{ '/Contact.html' | relative_url }}" class="nav-link {% if page.url contains 'Contact' %}active{% endif %}">Contact</a></li>

                    <li class="nav-item d-lg-none mt-2">
                        <button class="main-button w-100" onclick="themeSwitcher()">
                            <i id="themeToggle" class="fa-solid fa-moon"></i> Toggle Theme
                        </button>
                    </li>
                </ul>
            </div>

            <div class="d-none d-lg-flex align-items-center ms-auto">
                <button class="navbar-button" onclick="themeSwitcher()">
                    <i id="themeToggle" class="fa-solid fa-moon"></i>
                </button>
            </div>
        </div>
    </nav>

    <div class="background-odd background-auto">
        <div class="container-fluid px-md-5 px-3">
            <div class="row g-4">

                <!-- Sidebar -->
                <div class="col-lg-4 col-md-5 col-12">
                    <div id="blog-sidebar" class="background-even rounded-4 h-auto">
                        
                        <div class="searchbar-container">
                            <input id="blog-searchbar" class="form-control rounded-pill p-3" type="text" placeholder="Search" onkeyup="blogSearch()">
                        </div>

                        <h4 class="sidebar-title mt-3">Categories</h4>
                        <label><input class="sidebar-checkbox" id="blog-topic-1" type="checkbox" onclick="blogFilter('topicOne')"> Career</label><br>
                        <label><input class="sidebar-checkbox" id="blog-topic-2" type="checkbox" onclick="blogFilter('topicTwo')"> Programming</label><br>
                        <label><input class="sidebar-checkbox" id="blog-topic-3" type="checkbox" onclick="blogFilter('topicThree')"> Thoughts & Opinions</label>

                        <h4 class="sidebar-title mt-4">Recent Blogs</h4>
                        {% for post in site.posts limit:3 %}
                        <div class="row sidebar-blog-post-padding">
                            <div class="col-3 d-none d-md-block">
                                <img class="sidebar-recent-blog-image" src="{{ post.thumbnail | relative_url }}" alt="{{ post.thumbnail_alt }}">
                            </div>
                            <div class="col-9 d-flex align-items-center">
                                <a class="sidebar-recent-blog-title" href="{{ post.url | relative_url }}">{{ post.title }}</a>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>

                <!-- Blog List -->
                <div class="col-lg-8 col-md-7 col-12">
                    <ul id="blog-list" class="p-0">

                        {% for post in site.posts %}
                        <li class="{{ post.topic_class }}">
                            <div class="blog-post row align-items-center">

                                <div class="col-md-3 d-none d-md-block">
                                    <img class="img-fluid" src="{{ post.thumbnail | relative_url }}" alt="{{ post.thumbnail_alt }}">
                                </div>

                                <div class="col-md-9 col-12">
                                    <h3 class="blog-post-title">
                                        <a class="blog-post-title-line" href="{{ post.url | relative_url }}">
                                            {{ post.title }}
                                        </a>
                                    </h3>

                                    <p class="blog-post-date">Date Published: {{ post.date | date: "%d/%m/%Y" }}</p>
                                    <p class="blog-post-description">{{ post.description }}</p>
                                </div>

                            </div>
                        </li>
                        {% endfor %}

                    </ul>
                </div>

            </div>
        </div>
    </div>

    {% include footer.html %}

    <script src="{{ '/main.js' | relative_url }}"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>